# 54.螺旋矩阵
[力扣题目链接](https://leetcode.cn/problems/spiral-matrix/)
## 思路
* 基于[59. 螺旋矩阵 II](https://github.com/wunaiqiezixin/Leetcode_Algorithm/blob/main/problems/0059.%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5II.md)
* 不同之处在于此题给出了一个m行n列的矩阵，m不一定等于n
* 令 min = min(m,n)
* 循环的圈数 loop = min / 2
* 若min为奇数，则说明矩阵中间还有一行或一列
* 情况一(m = n)
* 中间只有一个元素
* 情况二（m > n)
* 中间有一列，共有（m - n + 1）个元素
* 情况三（m < n)
* 中间有一行，共有 (n - m + 1) 个元素
  
### ***C***
```C
/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
int* spiralOrder(int** matrix, int matrixSize, int* matrixColSize, int* returnSize) {
    int row = matrixSize,col = matrixColSize[0];
    *returnSize = row * col;
    int* ans = (int*)malloc(sizeof(int) * row * col);
    int min = row > col ? col : row;
    int loop = min / 2,offset = 1;
    int startx = 0,starty = 0,count = 0;
    int i,j;
    while (loop)
    {
        for (j = starty;j < col - offset;j++)
        {
            ans[count++] = matrix[startx][j];
        }
        for (i = startx;i < row - offset;i++)
        {
            ans[count++] = matrix[i][j];
        }
        for (;j > starty;j--)
        {
            ans[count++] = matrix[i][j];
        }
        for (;i > startx;i--)
        {
            ans[count++] = matrix[i][j];
        }
        startx++;
        starty++;
        loop--;
        offset++;
    }
    if (min % 2)
    {
        if (row > col)
        {
            for (int i = 0;i < row - col + 1;i++)
            {
                ans[count++] = matrix[startx++][starty];
            }
        }
        else
        {
            for (int i = 0;i < col - row + 1;i++)
            {
                ans[count++] = matrix[startx][starty++];
            }
        }
    }
    return ans;
}
```
